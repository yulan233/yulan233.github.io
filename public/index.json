[{"content":"在 Roblox 开发中，我们经常需要获取一个不受玩家本地时区影响的标准时间，即 UTC（协调世界时）。虽然在服务器上可以直接使用 os.time()，因为它本身就在一个受控的环境中运行，但在客户端，玩家的设备时区各不相同，直接获取本地时间可能会导致数据不一致。 这里记录一个从客户端获取 UTC 时间的 Lua 脚本函数，并对其原理进行简单说明。\n脚本代码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 TimeAbout = {} TimeAbout.GetUTC = function(add:number?) -- 如果传入的参数不是数字，则默认为 0 if type(add) ~= \u0026#34;number\u0026#34; then add = 0 end -- 获取当前本地时间戳 local currentTime = os.time() -- 使用 \u0026#34;!\u0026#34; 标记获取当前时间的 UTC 时间表 local UTC = os.date(\u0026#34;!*t\u0026#34;, currentTime) -- 获取当前时间的本地时间表 local localtime = os.date(\u0026#34;*t\u0026#34;, currentTime) -- 计算本地时间与 UTC 时间的时间差（秒） -- os.difftime 会返回两个时间戳的差值 local diff = os.difftime(os.time(UTC), os.time(localtime)) -- 将本地时间戳加上时差，得到 UTC 时间戳 local utcTime = currentTime + diff -- 返回 UTC 时间戳，并加上可选的小时偏移量 return utcTime + add * 3600 end 实现原理说明 这个函数的核心思想是计算出本地时间与 UTC 时间之间的时差，然后用这个时差来修正本地时间戳。\n获取本地时间戳：os.time() 函数返回一个表示当前本地时间的 Unix 时间戳（自 1970 年 1 月 1 日以来的秒数）。\n获取 UTC 和本地时间表：\nos.date(\u0026quot;!*t\u0026quot;, currentTime)：os.date 函数的第一个参数是格式化字符串。当字符串以 ! 开头时，它会将时间解释为 UTC 时间，而不是本地时间。*t 则表示返回一个包含年、月、日、时等字段的时间表。 os.date(\u0026quot;*t\u0026quot;, currentTime)：不加 ! 则返回本地时间的时间表。 计算时差：\nos.time(UTC) 和 os.time(localtime) 会将这两个时间表分别转换回时间戳。由于 UTC 表是基于 UTC 时间的，而 localtime 表是基于本地时间的，这两个时间戳之间的差值 diff 正好是本地时区与 UTC 的偏移量（以秒为单位）。 例如，如果本地时间是东八区（UTC+8），那么本地时间戳会比 UTC 时间戳大 8 * 3600 = 28800 秒。因此 diff 的值就是 -28800。 修正并返回：\n将原始的本地时间戳 currentTime 加上这个时差 diff，就得到了准确的 UTC 时间戳 utcTime。\nadd 参数是一个可选的数字，代表要增加或减少的小时数。函数会将其转换为秒（add * 3600）并加到最终的 UTC戳上，方便进行时间计算。\n结尾 可能从服务端直接获取时间会更好一些，不过这也是一种不依靠服务端就能获取到utc时间的方法，可能有时候会有需要。\n","permalink":"https://yulan233.github.io/posts/roblox%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96utc%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95/","summary":"\u003cp\u003e在 Roblox 开发中，我们经常需要获取一个不受玩家本地时区影响的标准时间，即 UTC（协调世界时）。虽然在服务器上可以直接使用 \u003ccode\u003eos.time()\u003c/code\u003e，因为它本身就在一个受控的环境中运行，但在客户端，玩家的设备时区各不相同，直接获取本地时间可能会导致数据不一致。\n这里记录一个从客户端获取 UTC 时间的 Lua 脚本函数，并对其原理进行简单说明。\u003c/p\u003e\n\u003ch3 id=\"脚本代码\"\u003e脚本代码\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e12\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e13\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e14\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e15\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e16\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e17\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e18\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e19\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e20\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e21\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e22\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e23\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e24\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e25\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-lua\" data-lang=\"lua\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eTimeAbout\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eTimeAbout.GetUTC\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kr\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003enumber\u003c/span\u003e\u003cspan class=\"err\"\u003e?\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 如果传入的参数不是数字，则默认为 0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kr\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e~=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\u0026#34;number\u0026#34;\u003c/span\u003e \u003cspan class=\"kr\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e        \u003cspan class=\"n\"\u003eadd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kr\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 获取当前本地时间戳\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kd\"\u003elocal\u003c/span\u003e \u003cspan class=\"n\"\u003ecurrentTime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos.time\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 使用 \u0026#34;!\u0026#34; 标记获取当前时间的 UTC 时间表\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kd\"\u003elocal\u003c/span\u003e \u003cspan class=\"n\"\u003eUTC\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos.date\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;!*t\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecurrentTime\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 获取当前时间的本地时间表\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kd\"\u003elocal\u003c/span\u003e \u003cspan class=\"n\"\u003elocaltime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos.date\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;*t\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecurrentTime\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 计算本地时间与 UTC 时间的时间差（秒）\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- os.difftime 会返回两个时间戳的差值\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kd\"\u003elocal\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eos.difftime\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eos.time\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eUTC\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"n\"\u003eos.time\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003elocaltime\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 将本地时间戳加上时差，得到 UTC 时间戳\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kd\"\u003elocal\u003c/span\u003e \u003cspan class=\"n\"\u003eutcTime\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ecurrentTime\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003ediff\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"c1\"\u003e-- 返回 UTC 时间戳，并加上可选的小时偏移量\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"kr\"\u003ereturn\u003c/span\u003e \u003cspan class=\"n\"\u003eutcTime\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eadd\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"mi\"\u003e3600\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kr\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003ch3 id=\"实现原理说明\"\u003e实现原理说明\u003c/h3\u003e\n\u003cp\u003e这个函数的核心思想是计算出本地时间与 UTC 时间之间的时差，然后用这个时差来修正本地时间戳。\u003c/p\u003e","title":"Roblox客户端脚本获取UTC时间的方法"},{"content":"在 Roblox 开发中，实现 GUI 悬停效果时，MouseEnter 和 MouseLeave 事件有时会表现得不稳定。本文记录了这些传统方法遇到的问题，并介绍一个更可靠的替代方案：使用 GuiObject 的 GuiState 属性。\n传统方法及其局限性 常用的 MouseEnter 和 MouseLeave 事件存在一些已知问题：\n快速移动导致的事件丢失：当鼠标快速划过 GUI 元素时，引擎可能无法正确触发 MouseEnter 或 MouseLeave，导致效果缺失或闪烁。 删除元素不会触发Leave：当你删除绑定了MouseLeave的元素的时候不会触发这个事件，会导致很多问题。 动态 GUI 的处理复杂：在鼠标悬停期间，如果 GUI 对象的位置或大小发生变化，事件监听逻辑容易出错。 另一种尝试是使用 InputBegan 和 InputEnded 事件，并检查 UserInputType 是否为 MouseMovement。 1 2 3 4 5 6 7 8 9 10 11 -- 使用 InputBegan/Ended 的示例（不推荐） Object.InputBegan:Connect(function(Input) if Input.UserInputType == Enum.UserInputType.MouseMovement then print(\u0026#34;Mouse entered\u0026#34;) end end) Object.InputEnded:Connect(function(Input) if Input.UserInputType == Enum.UserInputType.MouseMovement then print(\u0026#34;Mouse left\u0026#34;) end end) 这种方法检测的是“鼠标在对象上开始/停止移动”，而非真正的“进入/离开”。当鼠标静止在对象上然后直接移出时，InputEnded 可能不会被触发。它同样会受到子元素的干扰。\n使用 GuiState 属性 一个更稳定的方案是监听 GuiObject 的 GuiState 属性。GuiState 是一个枚举，它直接反映了 GUI 对象的当前交互状态。其中两个关键状态是：\nEnum.GuiState.Hover：鼠标指针悬停在对象上。 Enum.GuiState.Idle：鼠标指针不在对象上。 通过监听 GuiState 的变化，可以获得一个由引擎底层管理的状态信号，从而避免了上述传统方法的问题。 结合 TweenService 的实现示例 以下代码展示了如何结合 TweenService 和 GuiState 来实现一个带动画和音效的按钮悬停效果。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 -- 获取服务 local TweenService = game:GetService(\u0026#34;TweenService\u0026#34;) -- 定义动画信息 local TWEEN_INFO = TweenInfo.new( 0.1, -- 动画时长 Enum.EasingStyle.Linear, -- 缓动样式 Enum.EasingDirection.InOut -- 缓动方向 ) -- 获取按钮对象（假设此脚本位于按钮内部） local Button = script.Parent local HoverSound = Button:WaitForChild(\u0026#34;Sound\u0026#34;) -- 初始化 Tween 变量 local tween = TweenService:Create(Button, TWEEN_INFO, {}) -- 监听 \u0026#34;GuiState\u0026#34; 属性的变化 Button:GetPropertyChangedSignal(\u0026#34;GuiState\u0026#34;):Connect(function() if Button.GuiState == Enum.GuiState.Hover then -- 鼠标悬停时 tween:Cancel() -- 取消当前动画 tween = TweenService:Create(Button, TWEEN_INFO, { Size = UDim2.new(0, 250, 0, 63) -- 悬停尺寸 }) tween:Play() HoverSound:Play() elseif Button.GuiState == Enum.GuiState.Idle then -- 鼠标离开时 tween:Cancel() -- 取消当前动画 tween = TweenService:Create(Button, TWEEN_INFO, { Size = UDim2.new(0, 210, 0, 63) -- 原始尺寸 }) tween:Play() end end) 代码要点说明 GetPropertyChangedSignal(\u0026quot;GuiState\u0026quot;)：此方法创建一个事件，仅在 GuiState 属性值改变时触发，比逐帧检查更高效。 状态判断：在回调函数中，直接检查 Button.GuiState 的值来执行相应逻辑。Hover 对应鼠标进入，Idle 对应鼠标离开。 tween:Cancel()：在创建新动画前取消旧动画，可以防止用户快速移入移出时，多个动画排队执行导致的视觉延迟或抖动。 动态创建 Tween：每次状态改变时都重新创建 Tween 对象，并设定新的目标属性，使代码逻辑清晰。 总结 对于 Roblox GUI 开发，使用 GuiState 属性来处理悬停效果是比 MouseEnter 和 MouseLeave 更可靠的选择。它在处理子元素、快速移动等场景时表现更稳定，同时代码逻辑也更直接。在新的项目中，建议优先考虑使用 GuiState。\n","permalink":"https://yulan233.github.io/posts/%E5%85%B3%E4%BA%8E-roblox-gui-%E6%82%AC%E5%81%9C%E6%95%88%E6%9E%9C%E7%9A%84%E5%AE%9E%E7%8E%B0/","summary":"\u003cp\u003e在 Roblox 开发中，实现 GUI 悬停效果时，\u003ccode\u003eMouseEnter\u003c/code\u003e 和 \u003ccode\u003eMouseLeave\u003c/code\u003e 事件有时会表现得不稳定。本文记录了这些传统方法遇到的问题，并介绍一个更可靠的替代方案：使用 \u003ccode\u003eGuiObject\u003c/code\u003e 的 \u003ccode\u003eGuiState\u003c/code\u003e 属性。\u003c/p\u003e\n\u003ch4 id=\"传统方法及其局限性\"\u003e传统方法及其局限性\u003c/h4\u003e\n\u003cp\u003e常用的 \u003ccode\u003eMouseEnter\u003c/code\u003e 和 \u003ccode\u003eMouseLeave\u003c/code\u003e 事件存在一些已知问题：\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e快速移动导致的事件丢失\u003c/strong\u003e：当鼠标快速划过 GUI 元素时，引擎可能无法正确触发 \u003ccode\u003eMouseEnter\u003c/code\u003e 或 \u003ccode\u003eMouseLeave\u003c/code\u003e，导致效果缺失或闪烁。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e删除元素不会触发Leave\u003c/strong\u003e：当你删除绑定了\u003ccode\u003eMouseLeave\u003c/code\u003e的元素的时候不会触发这个事件，会导致很多问题。\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e动态 GUI 的处理复杂\u003c/strong\u003e：在鼠标悬停期间，如果 GUI 对象的位置或大小发生变化，事件监听逻辑容易出错。\n另一种尝试是使用 \u003ccode\u003eInputBegan\u003c/code\u003e 和 \u003ccode\u003eInputEnded\u003c/code\u003e 事件，并检查 \u003ccode\u003eUserInputType\u003c/code\u003e 是否为 \u003ccode\u003eMouseMovement\u003c/code\u003e。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e 1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 2\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 3\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 4\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 5\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 6\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 7\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 8\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e 9\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e10\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e11\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-lua\" data-lang=\"lua\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e-- 使用 InputBegan/Ended 的示例（不推荐）\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eObject.InputBegan\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eConnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\u003cspan class=\"kr\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eInput.UserInputType\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eEnum.UserInputType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMouseMovement\u003c/span\u003e \u003cspan class=\"kr\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\t\u003cspan class=\"n\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;Mouse entered\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\u003cspan class=\"kr\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kr\"\u003eend\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"n\"\u003eObject.InputEnded\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003eConnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kr\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\u003cspan class=\"kr\"\u003eif\u003c/span\u003e \u003cspan class=\"n\"\u003eInput.UserInputType\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003eEnum.UserInputType\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eMouseMovement\u003c/span\u003e \u003cspan class=\"kr\"\u003ethen\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\t\u003cspan class=\"n\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026#34;Mouse left\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\t\u003cspan class=\"kr\"\u003eend\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kr\"\u003eend\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e这种方法检测的是“鼠标在对象上开始/停止移动”，而非真正的“进入/离开”。当鼠标静止在对象上然后直接移出时，\u003ccode\u003eInputEnded\u003c/code\u003e 可能不会被触发。它同样会受到子元素的干扰。\u003c/p\u003e","title":"关于 Roblox GUI 悬停效果的实现"}]